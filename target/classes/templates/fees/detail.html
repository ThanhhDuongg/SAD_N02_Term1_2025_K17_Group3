<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Chi Tiết Phí</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div th:replace="~{fragments/header :: header}"></div>
    <div th:replace="fragments/sidebar :: sidebar"></div>
    <div class="content-with-sidebar">
        <div class="detail-container">
        <h2>Chi Tiết Phí</h2>
        <table class="info-table">
            <tr>
                <td class="label">ID:</td>
                <td class="value" th:text="${fee.id}"></td>
            </tr>
            <tr>
                <td class="label">Hợp Đồng:</td>
                <td class="value" th:text="${fee.contract != null ? fee.contract.id : ''}"></td>
            </tr>
            <tr>
                <td class="label">Mã SV:</td>
                <td class="value" th:text="${fee.contract != null && fee.contract.student != null ? fee.contract.student.code : ''}"></td>
            </tr>
            <tr>
                <td class="label">Sinh Viên:</td>
                <td class="value" th:text="${fee.contract != null && fee.contract.student != null ? fee.contract.student.name : ''}"></td>
            </tr>
            <tr>
                <td class="label">Loại Phí:</td>
                <td class="value" th:text="${fee.type}"></td>
            </tr>
            <tr>
                <td class="label">Phạm Vi:</td>
                <td class="value" th:text="${fee.scope == null ? 'Cá nhân' : (fee.scope.name() == 'ROOM' ? 'Cả phòng' : 'Cá nhân')}"></td>
            </tr>
            <tr>
                <td class="label">Số Tiền:</td>
                <td class="value" th:text="${T(java.lang.String).format('%,d', fee.amount.longValue()).replace(',', '.')}" ></td>
            </tr>
            <tr th:if="${fee.scope != null && fee.scope.name() == 'ROOM'}">
                <td class="label">Tổng Phí:</td>
                <td class="value" th:text="${fee.totalAmount != null ? T(java.lang.String).format('%,d', fee.totalAmount.longValue()).replace(',', '.') : ''}"></td>
            </tr>
            <tr>
                <td class="label">Ngày Đáo Hạn:</td>
                <td class="value" th:text="${#temporals.format(fee.dueDate, 'dd/MM/yyyy')}"></td>
            </tr>
            <tr>
                <td class="label">Trạng Thái Thanh Toán:</td>
                <td class="value" th:text="${fee.paymentStatus}"></td>
            </tr>
        </table>
        <div class="form-actions">
            <a th:href="@{/fees}" class="button btn-back">Quay Lại</a>
            <a th:href="@{/fees/{id}/edit(id=${fee.id})}" class="button btn-edit">Sửa</a>
        </div>
        </div>
    </div>
</body>
</html>